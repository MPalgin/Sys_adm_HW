### Задание 1.

1. Укажите путь к файлам логов веб-сервера Nginx.

/var/log/nginx/

3. Где находится конфигурационный файл, в котором можно посмотреть / поменять эти пути?

/etc/nginx/nginx.conf

5. Какой командой можно воспользоваться для просмотра файла журнала в режиме реального времени? Попробуйте найти сами, либо воспользуйтесь ссылкой.

tail -f  access.log

### Задание 2.

1. COMP1 не может обменяться данными с COMP4. Какую последовательность действий вы выберете для того, чтобы локализовать проблему?

Нужно проверить подключен ли кабелем COMP1 и COPM4 к коммутаторам, включены ли устройства. Если устройства включены и все впрорядке на физическом уровне, то проверить на устройствах порты, заблокированы ли порты необходимые для подключеня по SSH, HTTP и разрешен ли ответ на ICMp запросы. Находятся ли интерфесы в состоянии UP.
Проверить пингуются ли устройства в локальной сети, выполнить пинг с COMP1 до COMP2 и c COMP4 до COMP3.А также до интерфейса маршрутизатора смотрящего во внутренюю сеть. Проверить маршруты на маршрутизаторах и настройки VLAN на коммутаторах. Проверить настройки ACL на маршрутизаторах. Выполнить traceroute со стороны COMP1 и COPM4, чтобы определить на каком устройстве может наблюдаться проблема, параллельно с этим можно снять tcpdump на COMP1 и COMP4.
Если с ICMP запросами проблем нет и устройства пигуются, то нужно проверить настройки Firewall на маршрутизаторе, нет ли блокировки портов, которыми пользуется нужный сервис. Проверить доступность другого ресурса по этому же порту. Снять tcpdump на разных точках маршрута во время попытки использования сервиса и проверить какой из них показывает ошибки или отсутсвие ответа на запросы. 

2. Возможно ли, чтобы при выполнении ping 192.168.1.2 с компьютера COMP5, ping прошёл, а подключение по HTTP с COMP5 на COMP1 не проходило бы? Поясните свой ответ максимально детально.

Да, это возможно, если закрыт порт 80 на COMP1 или где-то на firewall есть настройка запрещающая прохождение пакетов на порт 80.

3. COMP5 отправляет ping на COMP1 и COMP2, при этом COMP1 на ping отвечает, а COMP2 - нет.

Приведите максимальное количество причин. Самую простую, но нередко встречающуюся - «У COMP2 выдернули кабель питания» - я уже ответил за вас.

COMP2 закрыт на ответ на ICMP запросы. Неправильная настройка шлюза по умолчанию на PC или неправильная настройка VLAN на коммутаторе, выбран неправильный VLAN на интерфейсе, который смотрит в сторону COMP2 или вообще нет настройки. Не поднят интерфейс до COMP2. На COMP2 сломана сетевая карта. На маршрутизаторах настроены неправильные маршруты или на firewall запрещены запросы по порту ICMP или запрещены любые запросы на COMP2.

4. COMP1 пингует только адреса из подсети 192.168.1.0/24 (COMP2 и 192.168.1.1), больше никакие адреса не пингуются. С чем это может быть связано?

На маршрутизаторе нет маршрутов до второй подсети, которая находится за маршрутизатором 2. Интерфейс в сторону второго маршрутизатора не настроен или не поднят. Установлен запрет для ip адреса COMP1 на отправку любых пакетов на firewall маршрутизатора 1 или на обработку пакетов в сторону коммутатора маршрутизатором 2. Все устройства кроме COPM2 и маршрутизатора с ip 192.168.1.1 закрыты на ответ по ICMP.

### Задание 3

1. COMP1 и COMP2 оба пингуют 10.1.1.2, однако не пингуют 192.168.2.1 и прочие адреса из 192.168.2.0/24. Как вы думаете, что не так и как это можно исправить?

Возможно на маршрутизаторе установлен firewall, который не пропускает пакеты из сети 192.168.1.0, не поднят интерфейс между маршрутизатором и коммутатором, компьютеры не подключены к коммутатору или интерфейсы не были подняты. Неправильно назначены ip - адреса на ПК или настроен неправильный gateway. Выполнена неправильная настройка VLAN на интерфейсах на маршрутизаторе в сторону ПК. На ПК на firewall установлен запрет на ICMP или на firewall заблокировано прохождение любого входящего трафика.

Решение это либо проверить настройки firewall и правильно настроить правила фильтрации. Проверить настройки интерфейсов и поднять их или сделать правильную настройку VLAN. Назначить интерфейсам в сторону ПК access правильное значение VLAN. Проверить конфигурацию ПК, настроить правильные ip-адреса и проверить firewall на ПК, разрешить ответ на ICMP.

2. Какими способами мы можем сделать так, чтобы COMP2 не смог общаться ни с кем кроме своей локальной сети? (Приведите вариант с настройками самого COMP2 и попробуйте придумать, можно ли что-то сделать на маршрутизаторе 192.168.1.1)

Можно на firewall заблокировать весь исходящий и входящий трафик кроме адресов в сети 192.168.1.0. На маршрутизаторе также можно создать правило ACL, которое бы блокировало весь исходящий трафик с ip COMP2 до любых сетей кроме 192.168.1.0.

3. Как вы думаете, что будет происходить при попытке провести ping с COMP5 на 192.168.2.3 ?

Не совсем понял смысл этого вопроса. Все зависит от того какие настройки выполнены на коммутаторе и ПК. Если все сделано корректно, то ping будет успешен. Если COMP3 запрещено отвечать на ICMP, то COMP3 будет получать ICMP, но в ответ будет отправлятся ошибка и пинг будет не успешен. 

### Задание 4

Изменились ли цифры в ответе команды ping? Почему? Есть ли разница между физическими и виртуальными машинами?

Без Iperf

![image](https://user-images.githubusercontent.com/121052923/226614579-bf7c4ef3-7745-4432-b0ec-18b25eb9e0e3.png)

с iperf

![image](https://user-images.githubusercontent.com/121052923/226614669-083ff9a1-41bf-4915-b211-ac9f5ccb1f03.png)

Да, значения изменились. Увеличилось время ответа на ICMP запрос и как следствие выросли задержки в канале. Канал между устройствами имеет лимит пропускной способности, если трафика в канале больше чем он может пропустить через себя, то в канале возникают потери и увеличивается значение задержки. Сильной разницы между виртуальными и физическими машинами наверное нет, так как и у тех и у тех есть ограничения пропускной способности в канале.



